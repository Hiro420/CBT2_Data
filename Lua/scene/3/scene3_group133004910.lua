--================================================================
-- 
-- 配置
-- 
--================================================================

-- 怪物
monsters = {
	{ config_id = 910021, monster_id = 28020507, pos = { x = 2217.4, y = 212.0, z = -899.2 }, rot = { x = 0.0, y = 21.4, z = 0.0 }, level = 1, drop_tag = "走兽", pose_id = 4 },
	{ config_id = 910022, monster_id = 28020507, pos = { x = 2221.1, y = 210.0, z = -921.0 }, rot = { x = 0.0, y = 0.0, z = 0.0 }, level = 1, drop_tag = "走兽", pose_id = 4 },
	{ config_id = 910023, monster_id = 28020507, pos = { x = 2269.2, y = 211.2, z = -931.7 }, rot = { x = 0.0, y = 0.0, z = 0.0 }, level = 1, drop_tag = "走兽", pose_id = 4 },
	{ config_id = 910024, monster_id = 28020507, pos = { x = 2288.6, y = 214.0, z = -907.5 }, rot = { x = 0.0, y = 280.5, z = 0.0 }, level = 1, drop_tag = "走兽", pose_id = 4 },
	{ config_id = 910025, monster_id = 28020507, pos = { x = 2257.4, y = 216.0, z = -868.9 }, rot = { x = 0.0, y = 168.1, z = 0.0 }, level = 1, drop_tag = "走兽", pose_id = 12 },
	{ config_id = 910042, monster_id = 28020507, pos = { x = 2257.4, y = 216.0, z = -868.9 }, rot = { x = 0.0, y = 174.3, z = 0.0 }, level = 1, drop_tag = "走兽", pose_id = 12 }
}

-- NPC
npcs = {
}

-- 装置
gadgets = {
	{ config_id = 910001, gadget_id = 70710014, pos = { x = 2253.0, y = 215.9, z = -873.2 }, rot = { x = 0.0, y = 282.4, z = 0.0 }, level = 2 },
	{ config_id = 910002, gadget_id = 70710014, pos = { x = 2246.4, y = 216.0, z = -871.6 }, rot = { x = 0.0, y = 292.7, z = 0.0 }, level = 2 },
	{ config_id = 910003, gadget_id = 70710014, pos = { x = 2235.9, y = 216.1, z = -868.6 }, rot = { x = 0.0, y = 243.8, z = 0.0 }, level = 2 },
	{ config_id = 910004, gadget_id = 70710014, pos = { x = 2227.4, y = 216.0, z = -880.7 }, rot = { x = 0.0, y = 207.9, z = 0.0 }, level = 2 },
	{ config_id = 910005, gadget_id = 70710014, pos = { x = 2213.8, y = 210.0, z = -906.0 }, rot = { x = 352.2, y = 202.1, z = 355.5 }, level = 2 },
	{ config_id = 910006, gadget_id = 70710014, pos = { x = 2214.0, y = 210.0, z = -914.6 }, rot = { x = 0.0, y = 133.3, z = 0.0 }, level = 2 },
	{ config_id = 910007, gadget_id = 70710014, pos = { x = 2226.8, y = 210.0, z = -924.3 }, rot = { x = 0.0, y = 97.2, z = 0.0 }, level = 2 },
	{ config_id = 910008, gadget_id = 70710014, pos = { x = 2284.8, y = 214.0, z = -905.5 }, rot = { x = 0.0, y = 317.9, z = 0.0 }, level = 2 },
	{ config_id = 910009, gadget_id = 70710014, pos = { x = 2239.9, y = 212.0, z = -920.9 }, rot = { x = 359.7, y = 116.5, z = 5.4 }, level = 2 },
	{ config_id = 910010, gadget_id = 70710014, pos = { x = 2250.6, y = 212.1, z = -926.6 }, rot = { x = 0.0, y = 116.6, z = 0.0 }, level = 2 },
	{ config_id = 910011, gadget_id = 70710014, pos = { x = 2258.7, y = 210.0, z = -930.4 }, rot = { x = 0.0, y = 100.2, z = 0.0 }, level = 2 },
	{ config_id = 910012, gadget_id = 70710014, pos = { x = 2275.8, y = 212.0, z = -929.7 }, rot = { x = 0.0, y = 73.4, z = 0.0 }, level = 2 },
	{ config_id = 910013, gadget_id = 70710014, pos = { x = 2289.3, y = 214.0, z = -924.3 }, rot = { x = 0.0, y = 68.0, z = 0.0 }, level = 2 },
	{ config_id = 910014, gadget_id = 70710014, pos = { x = 2285.1, y = 216.0, z = -896.1 }, rot = { x = 354.8, y = 354.5, z = 1.3 }, level = 2 },
	{ config_id = 910015, gadget_id = 70710014, pos = { x = 2298.1, y = 214.0, z = -918.4 }, rot = { x = 0.0, y = 14.0, z = 0.0 }, level = 2 },
	{ config_id = 910016, gadget_id = 70710014, pos = { x = 2295.5, y = 214.0, z = -911.1 }, rot = { x = 0.0, y = 295.3, z = 0.0 }, level = 2 },
	{ config_id = 910017, gadget_id = 70710014, pos = { x = 2282.3, y = 216.0, z = -888.6 }, rot = { x = 0.0, y = 296.8, z = 0.0 }, level = 2 },
	{ config_id = 910018, gadget_id = 70710014, pos = { x = 2273.3, y = 216.0, z = -884.2 }, rot = { x = 0.0, y = 297.7, z = 0.0 }, level = 2 },
	{ config_id = 910019, gadget_id = 70710014, pos = { x = 2267.8, y = 216.0, z = -881.4 }, rot = { x = 0.0, y = 314.5, z = 0.0 }, level = 2 },
	{ config_id = 910020, gadget_id = 70710014, pos = { x = 2262.9, y = 215.9, z = -877.0 }, rot = { x = 0.0, y = 313.4, z = 0.0 }, level = 1 },
	{ config_id = 910030, gadget_id = 70710024, pos = { x = 2217.6, y = 212.0, z = -899.3 }, rot = { x = 0.0, y = 0.0, z = 0.0 }, level = 2 },
	{ config_id = 910033, gadget_id = 70710024, pos = { x = 2221.7, y = 210.0, z = -921.9 }, rot = { x = 0.0, y = 0.0, z = 0.0 }, level = 1 },
	{ config_id = 910034, gadget_id = 70710024, pos = { x = 2269.0, y = 211.1, z = -931.9 }, rot = { x = 0.0, y = 0.0, z = 0.0 }, level = 1 },
	{ config_id = 910035, gadget_id = 70710024, pos = { x = 2288.1, y = 214.0, z = -908.3 }, rot = { x = 0.0, y = 0.0, z = 0.0 }, level = 1 }
}

-- 区域
regions = {
	{ config_id = 910043, shape = RegionShape.SPHERE, radius = 8, pos = { x = 2223.4, y = 214.0, z = -889.1 } }
}

-- 触发器
triggers = {
	{ name = "ANY_MONSTER_DIE_910026", event = EventType.EVENT_ANY_MONSTER_DIE, source = "", condition = "condition_EVENT_ANY_MONSTER_DIE_910026", action = "action_EVENT_ANY_MONSTER_DIE_910026", trigger_count = 0 },
	{ name = "ANY_MONSTER_DIE_910027", event = EventType.EVENT_ANY_MONSTER_DIE, source = "", condition = "condition_EVENT_ANY_MONSTER_DIE_910027", action = "action_EVENT_ANY_MONSTER_DIE_910027", trigger_count = 0 },
	{ name = "ANY_MONSTER_DIE_910028", event = EventType.EVENT_ANY_MONSTER_DIE, source = "", condition = "condition_EVENT_ANY_MONSTER_DIE_910028", action = "action_EVENT_ANY_MONSTER_DIE_910028", trigger_count = 0 },
	{ name = "ANY_MONSTER_DIE_910029", event = EventType.EVENT_ANY_MONSTER_DIE, source = "", condition = "condition_EVENT_ANY_MONSTER_DIE_910029", action = "action_EVENT_ANY_MONSTER_DIE_910029", trigger_count = 0 },
	{ name = "SELECT_OPTION_910031", event = EventType.EVENT_SELECT_OPTION, source = "", condition = "condition_EVENT_SELECT_OPTION_910031", action = "action_EVENT_SELECT_OPTION_910031", trigger_count = 0 },
	{ name = "GADGET_CREATE_910032", event = EventType.EVENT_GADGET_CREATE, source = "", condition = "condition_EVENT_GADGET_CREATE_910032", action = "action_EVENT_GADGET_CREATE_910032", trigger_count = 0 },
	{ name = "SELECT_OPTION_910036", event = EventType.EVENT_SELECT_OPTION, source = "", condition = "condition_EVENT_SELECT_OPTION_910036", action = "action_EVENT_SELECT_OPTION_910036", trigger_count = 0 },
	{ name = "SELECT_OPTION_910037", event = EventType.EVENT_SELECT_OPTION, source = "", condition = "condition_EVENT_SELECT_OPTION_910037", action = "action_EVENT_SELECT_OPTION_910037", trigger_count = 0 },
	{ name = "SELECT_OPTION_910038", event = EventType.EVENT_SELECT_OPTION, source = "", condition = "condition_EVENT_SELECT_OPTION_910038", action = "action_EVENT_SELECT_OPTION_910038", trigger_count = 0 },
	{ name = "GADGET_CREATE_910039", event = EventType.EVENT_GADGET_CREATE, source = "", condition = "condition_EVENT_GADGET_CREATE_910039", action = "action_EVENT_GADGET_CREATE_910039", trigger_count = 0 },
	{ name = "GADGET_CREATE_910040", event = EventType.EVENT_GADGET_CREATE, source = "", condition = "condition_EVENT_GADGET_CREATE_910040", action = "action_EVENT_GADGET_CREATE_910040", trigger_count = 0 },
	{ name = "GADGET_CREATE_910041", event = EventType.EVENT_GADGET_CREATE, source = "", condition = "condition_EVENT_GADGET_CREATE_910041", action = "action_EVENT_GADGET_CREATE_910041", trigger_count = 0 },
	{ name = "ENTER_REGION_910043", event = EventType.EVENT_ENTER_REGION, source = "", condition = "condition_EVENT_ENTER_REGION_910043", action = "", trigger_count = 0 }
}

-- 变量
variables = {
}

--================================================================
-- 
-- 初始化配置
-- 
--================================================================

-- 初始化时创建
init_config = {
	suite = 6,
	end_suite = 0,
	rand_suite = false
}

--================================================================
-- 
-- 小组配置
-- 
--================================================================

suites = {
	{
		-- suite_id = 1,
		-- description = ,
		monsters = { 910021 },
		gadgets = { 910001, 910002, 910003, 910004, 910030 },
		regions = { 910043 },
		triggers = { "ANY_MONSTER_DIE_910026", "SELECT_OPTION_910031", "GADGET_CREATE_910032", "ENTER_REGION_910043" },
		rand_weight = 100
	},
	{
		-- suite_id = 2,
		-- description = suite_2,
		monsters = { 910022 },
		gadgets = { 910005, 910006, 910033 },
		regions = { },
		triggers = { "ANY_MONSTER_DIE_910027", "SELECT_OPTION_910036", "GADGET_CREATE_910039" },
		rand_weight = 100
	},
	{
		-- suite_id = 3,
		-- description = suite_3,
		monsters = { 910023 },
		gadgets = { 910007, 910009, 910010, 910011, 910034 },
		regions = { },
		triggers = { "ANY_MONSTER_DIE_910028", "SELECT_OPTION_910037", "GADGET_CREATE_910040" },
		rand_weight = 100
	},
	{
		-- suite_id = 4,
		-- description = suite_4,
		monsters = { 910024 },
		gadgets = { 910012, 910013, 910015, 910016, 910035 },
		regions = { },
		triggers = { "ANY_MONSTER_DIE_910029", "SELECT_OPTION_910038", "GADGET_CREATE_910041" },
		rand_weight = 100
	},
	{
		-- suite_id = 5,
		-- description = suite_5,
		monsters = { 910025 },
		gadgets = { 910008, 910014, 910017, 910018, 910019, 910020 },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 6,
		-- description = suite_6,
		monsters = { },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	},
	{
		-- suite_id = 7,
		-- description = suite_7,
		monsters = { 910042 },
		gadgets = { },
		regions = { },
		triggers = { },
		rand_weight = 100
	}
}

--================================================================
-- 
-- 触发器
-- 
--================================================================

-- 触发条件
function condition_EVENT_ANY_MONSTER_DIE_910026(context, evt)
	--判断死亡怪物的configid是否为 910021
	if evt.param1 ~= 910021 then
	    return false
	 end
	  
	
	return true
end

-- 触发操作
function action_EVENT_ANY_MONSTER_DIE_910026(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "133004910") then
	  return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_ANY_MONSTER_DIE_910027(context, evt)
	--判断死亡怪物的configid是否为 910022
	if evt.param1 ~= 910022 then
	    return false
	 end
	  
	
	return true
end

-- 触发操作
function action_EVENT_ANY_MONSTER_DIE_910027(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "133004910") then
	  return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_ANY_MONSTER_DIE_910028(context, evt)
	--判断死亡怪物的configid是否为 910023
	if evt.param1 ~= 910023 then
	    return false
	 end
	  
	
	return true
end

-- 触发操作
function action_EVENT_ANY_MONSTER_DIE_910028(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "133004910") then
	  return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_ANY_MONSTER_DIE_910029(context, evt)
	--判断死亡怪物的configid是否为 910024
	if evt.param1 ~= 910024 then
	    return false
	 end
	  
	
	return true
end

-- 触发操作
function action_EVENT_ANY_MONSTER_DIE_910029(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "133004910") then
	  return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_SELECT_OPTION_910031(context, evt)
	-- 判断是gadgetid 910030 option_id 2903
	if 910030 ~= evt.param1 then
		return false	
	end
	
	if 2903 ~= evt.param2 then
		return false
	end
	
	
	return true
end

-- 触发操作
function action_EVENT_SELECT_OPTION_910031(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "13300491001") then
	  return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_GADGET_CREATE_910032(context, evt)
	if 910030 ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_GADGET_CREATE_910032(context, evt)
	-- 设置操作台选项
	if 0 ~= ScriptLib.SetWorktopOptionsByGroupId(context, 133004910, 910030, {2903}) then
		return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_SELECT_OPTION_910036(context, evt)
	-- 判断是gadgetid 910033 option_id 2903
	if 910033 ~= evt.param1 then
		return false	
	end
	
	if 2903 ~= evt.param2 then
		return false
	end
	
	
	return true
end

-- 触发操作
function action_EVENT_SELECT_OPTION_910036(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "13300491001") then
	  return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_SELECT_OPTION_910037(context, evt)
	-- 判断是gadgetid 910034 option_id 2903
	if 910034 ~= evt.param1 then
		return false	
	end
	
	if 2903 ~= evt.param2 then
		return false
	end
	
	
	return true
end

-- 触发操作
function action_EVENT_SELECT_OPTION_910037(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "13300491001") then
	  return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_SELECT_OPTION_910038(context, evt)
	-- 判断是gadgetid 910035 option_id 2903
	if 910035 ~= evt.param1 then
		return false	
	end
	
	if 2903 ~= evt.param2 then
		return false
	end
	
	
	return true
end

-- 触发操作
function action_EVENT_SELECT_OPTION_910038(context, evt)
	-- 通知任务系统完成条件类型"LUA通知"，复杂参数为quest_param的进度+1
	if 0 ~= ScriptLib.AddQuestProgress(context, "13300491001") then
	  return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_GADGET_CREATE_910039(context, evt)
	if 910033 ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_GADGET_CREATE_910039(context, evt)
	-- 设置操作台选项
	if 0 ~= ScriptLib.SetWorktopOptionsByGroupId(context, 133004910, 910033, {2903}) then
		return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_GADGET_CREATE_910040(context, evt)
	if 910034 ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_GADGET_CREATE_910040(context, evt)
	-- 设置操作台选项
	if 0 ~= ScriptLib.SetWorktopOptionsByGroupId(context, 133004910, 910034, {2903}) then
		return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_GADGET_CREATE_910041(context, evt)
	if 910035 ~= evt.param1 then
		return false
	end
	
	return true
end

-- 触发操作
function action_EVENT_GADGET_CREATE_910041(context, evt)
	-- 设置操作台选项
	if 0 ~= ScriptLib.SetWorktopOptionsByGroupId(context, 133004910, 910035, {2903}) then
		return -1
	end
	
	return 0
end

-- 触发条件
function condition_EVENT_ENTER_REGION_910043(context, evt)
	if ScriptLib.GetEntityType(evt.target_eid) == EntityType.AVATAR and ScriptLib.GetQuestState(context, evt.target_eid, 48704) == QuestState.UNFINISHED and evt.param1 == 910043 then
	 return true
	end
	return false
end

-- 触发操作
